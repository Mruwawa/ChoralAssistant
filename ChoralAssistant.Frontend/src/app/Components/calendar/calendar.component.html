<h1>Kalendarz</h1>
<h3>{{monthNames[currentMonth]}} {{currentYear}}</h3>
<div class="flex flex-row">
    <button mat-mini-fab (click)="changeMonth(-1)"><mat-icon>arrow_left</mat-icon></button>
    <span class="flex-1"></span>
    <button mat-button (click)="addEvent()">Dodaj wydarzenie</button>
    <button mat-button (click)="export()">Eksportuj kalendarz</button>
    <button mat-button (click)="import()">Importuj kalendarz</button>
    <span class="flex-1"></span>
    <button mat-mini-fab (click)="changeMonth(1)"><mat-icon>arrow_right</mat-icon></button>
</div>


<div class="grid grid-cols-7 gap-2 mt-4">
    <div>Poniedziałek</div>
    <div>Wtorek</div>
    <div>Środa</div>
    <div>Czwartek</div>
    <div>Piątek</div>
    <div>Sobota</div>
    <div>Niedziela</div>

    @for(day of daysOfMonth; track $index) {
    @if(day.day === 0) {
    <div></div>
    }
    @else {
    <mat-card class="{{day.isToday ? ('!bg-green-200') : ''}}">
        <mat-card-header>
            <mat-card-title>
                <p class="text-md">{{day.day}}</p>
            </mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <mat-chip-set>

                @for(event of day.events; track $index) {
                <mat-chip (click)="openEventDetails(event)">
                    {{event.title}}
                </mat-chip>
                }
            </mat-chip-set>
        </mat-card-content>
    </mat-card>
    }
    }
</div>