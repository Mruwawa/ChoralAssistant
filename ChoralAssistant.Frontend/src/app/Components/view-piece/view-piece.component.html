@if(loading) {
<div class="flex justify-center items-center h-[100vh]">
    <mat-spinner></mat-spinner>
</div>
}
@else {
<div class="flex px-2 pb-2">
    @if(piece.audioFileUrl){
    <audio src="{{piece.audioFileUrl}}" controls></audio>
    }
    @if(piece.audioLink != null && piece.audioLink != "" && piece.audioLink != undefined) {
    <a href="{{piece.audioLink}}">Nagranie</a>
    }
</div>
@if(piece.fileUrl || piece.imageUrls && piece.imageUrls.length > 0) {
<span class="flex items-center">
    <button mat-mini-fab (click)="previousPage()"><mat-icon>arrow_left</mat-icon></button>
    <span class="flex-1">
        <span class="ml-10"></span>
        <mat-slide-toggle [(ngModel)]="isErasing">Gumka do Å›cierania</mat-slide-toggle>
    </span>
    {{currentPage}} / {{pageCount}}
    <span class="flex-1"></span>
    <button mat-mini-fab (click)="nextPage()"><mat-icon>arrow_right</mat-icon></button>
</span>
@if(this.piece.type == "pdf"){
<div #pdfContainer class="h-[200vh] mt-4 pdf-container">

    <pdf-viewer [src]="piece.fileUrl" [render-text]="true" [show-all]="false" (after-load-complete)="pdfLoaded($event)"
        [page]="currentPage" [original-size]="false" [zoom-scale]="'page-width'" class="h-full !overflow-hidden">
    </pdf-viewer>
    <canvas #drawingCanvas class="pdf-canvas"></canvas>
    <canvas #cursorCanvas class="pdf-canvas"></canvas>
</div>
}
@else {
<div class="h-[150vh] mt-4 pdf-container imageContainer">
    <img [src]="currentImageUrl" class="h-full !z-[-100]" />
    <canvas #drawingCanvas class="pdf-canvas"></canvas>
    <canvas #cursorCanvas class="pdf-canvas"></canvas>
</div>
}
}
}